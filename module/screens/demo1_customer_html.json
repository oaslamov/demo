{
  "code":"demo1_customer_html:scr@demo1_prvt",
  "label":"$l{Customer (HTML)}l",
  "serverStatus":"r",
  "subject":"$l{Demo1}l",
  "grid":{
    "base":"screen",
    "cols":240,
    "rows":240
  },
  "data_sources":[
    {
      "code":"customer",
      "table_name":"Demo1_Prvt.Customer",
      "type":"table",
      "fields":[
        {
          "code":"id",
          "type":"string"
        },
        {
          "code":"name",
          "label":"$l{f:7ef07d006006}l",
          "type":"string",
          "hint":"$l{f:7ef07d006006:d}l"
        },
        {
          "code":"address_line1",
          "label":"$l{f:7ef07d006008}l",
          "type":"string",
          "hint":"$l{f:7ef07d006008:d}l"
        },
        {
          "code":"address_line2",
          "label":"$l{f:7ef07d006009}l",
          "type":"string",
          "hint":"$l{f:7ef07d006009:d}l"
        },
        {
          "code":"address_line3",
          "label":"$l{f:7ef07d00600a}l",
          "type":"string",
          "hint":"$l{f:7ef07d00600a:d}l"
        },
        {
          "code":"phone",
          "label":"$l{f:7ef07d006007}l",
          "type":"string",
          "hint":"$l{f:7ef07d006007:d}l"
        },
        {
          "code":"mobile",
          "label":"$l{f:7ef07d00600b}l",
          "type":"string",
          "hint":"$l{f:7ef07d00600b:d}l"
        },
        {
          "code":"city",
          "label":"$l{f:7ef07d006010}l",
          "type":"ref",
          "ref":{
            "data":{
              "action":"demo1_prvt.selectList",
              "args":{
                "filter":[
                  "${@ref_filter}"
                ],
                "tablename":"Demo1_Prvt.City"
              },
              "fields":[
                "id",
                "@name"
              ]
            }
          },
          "hint":"$l{f:7ef07d006010:d}l"
        },
        {
          "code":"country",
          "label":"$l{f:7ef07d00600c}l",
          "type":"ref",
          "ref":{
            "data":{
              "action":"demo1_prvt.selectList",
              "args":{
                "filter":[
                  "${@ref_filter}"
                ],
                "tablename":"Demo1_Prvt.Country"
              },
              "fields":[
                "id",
                "@name"
              ]
            }
          },
          "hint":"$l{f:7ef07d00600c:d}l"
        },
        {
          "code":"subcountry",
          "label":"$l{f:7ef07d00600e}l",
          "type":"ref",
          "ref":{
            "data":{
              "action":"demo1_prvt.selectList",
              "args":{
                "filter":[
                  "${@ref_filter}"
                ],
                "tablename":"Demo1_Prvt.Subcountry"
              },
              "fields":[
                "id",
                "@name"
              ]
            }
          },
          "hint":"$l{f:7ef07d00600e:d}l"
        }
      ],
      "operations":{
        "select":{
          "request":{
            "data":{
              "action":"demo1_prvt.selectList",
              "args":{
                "filter":[
                  "${@user_filter}",
                  "order by name"
                ],
                "tablename":"demo1_prvt.customer"
              }
            }
          }
        }
      },
      "actions":[
        {
          "code":"ac_c_det",
          "label":"$l{Customer Details}l",
          "request":{
            "data":{
              "action":"gui.goScreen",
              "args":{
                "screenId":"demo1_c_details:scr@demo1_prvt",
                "args":{
                  "id":"${customer.id}"
                },
                "mode":"popup"
              }
            }
          },
          "freshen":[
            {
              "code":"customer",
              "type":"current_row"
            }
          ]
        },
        {
          "code":"delete_customer",
          "label":"$l{Delete Customer}l",
          "type":"delete",
          "data_scope":"row",
          "confirm":true,
          "request":{
            "data":{
              "action":"demo1_prvt.deleteById",
              "args":{
                "id":"${customer.id}",
                "tableName":"demo1_prvt.customer"
              }
            }
          },
          "freshen":[
            {
              "code":"customer",
              "type":"current_row"
            }
          ]
        },
        {
          "code":"filter",
          "label":"$l{Filter}l",
          "data_scope":"none",
          "request":{
            "data":{
              "action":"gui.filter"
            }
          }
        },
        {
          "code":"insert",
          "label":"$l{New}l",
          "type":"insert",
          "data_scope":"none",
          "request":{
            "data":{
              "action":"demo1_prvt.insert",
              "args":{
                "fields":"${@all_fields}",
                "tableName":"demo1_prvt.customer"
              }
            }
          },
          "freshen":[
            {
              "code":"customer",
              "type":"all_rows"
            }
          ]
        }
      ]
    }
  ],
  "expressions":[
    {
      "code":"css",
      "type":"string",
      "text":".card-table{-webkit-border-radius:8px;border-radius:8px;position:relative;margin-bottom:23px;margin-top:9px}.card-table tr td:last-child{padding-right:8px}.card-table:after{content:\"\";width:100%;height:1px;background:#DBEAFF;position:absolute;bottom:-12px;left:0}.card-table td{padding-top:7px;padding-bottom:5px}.card-doc-type strong{font-weight:400;position:relative;color:#7683AC;font-size:13px!important}.card-doc-type{width:10%;padding-left:44px;font-weight:400;position:relative!important;color:#7683AC;font-size:13px!important}.dlm-current-row .card-doc-type{color:#FFF}.card-center{width:64%;padding-left:15px;padding-right:15px}.card-table.dlm-current-row .card-doc-type strong{color:#FFF}.card-table.dlm-current-row{background-color:#3F8EFA}.card-team.dlm-current-row{background-color:#3F8EFA}.row-action a{font-size:16px!important;font-weight:500!important;text-decoration:none!important;color:#3F8EFA!important;line-height:100%}.dlm-current-row.row-action a{color:#fff!important}.card-table a{font-size:14px;font-weight:500;text-decoration:none;color:#293A77;text-decoration:underline}.card-table.dlm-current-row a{color:#fff!important}.card-table .card-center{color:#BDC6E3!important;font-size:14px;line-height:140%}.card-table.dlm-current-row .card-center{color:#DBEAFF!important}.card-table p{color:#7683AC;font-size:14px;line-height:120%}.card-table p span{color:#7683AC!important}.card-table.dlm-current-row p span{color:#DBEAFF!important}.card-table .card-center:first-child p{margin-top:3px}.card-table.dlm-current-row p{color:#DBEAFF}.card-table .card-center strong{color:#293A77;font-size:14px;line-height:130%;font-weight:400}.card-table.dlm-current-row .card-center strong{color:#fff}.card-table.card-projects a[data-action=\"project_details\"]{font-size:16px;font-weight:500;text-decoration:none;color:#3F8EFA!important;text-decoration:none;line-height:120%!important;margin-bottom:3px;display:inline-flex;line-height:120%}.card-table.card-projects.dlm-current-row a[data-action=\"project_details\"]{color:#fff!important}.card-team tr td:first-child strong a{font-style:normal;font-weight:500;font-size:16px;color:#3F8EFA!important;text-decoration:none}.card-team.dlm-current-row tr td:first-child strong a{color:#fff!important}.card-team tr td:last-child{text-align:right}.card-owner{margin-top:2px}.card-team td{padding:7px 9px 5px}.card-team{-webkit-border-radius:8px;border-radius:8px;position:relative;margin-bottom:-5px;margin-top:9px}.card-team tr>td:last-child{text-align:right}.card-team.dlm-current-row tr>td:last-child{color:#FFF}.card-team.dlm-current-row tr td:first-child strong a{color:#FFF}.card-team.dlm-current-row tr td:first-child{color:#DBEAFF}.card-team tr>td:last-child span{color:#BDC6E3}.card-team.dlm-current-row tr>td:last-child span{color:#fff}.card-team.card-document td{text-align:left!important}.card-add-row{padding-top:5px;margin-bottom:0;padding-right:9px}.card-table.card-projects tr td:last-child{color:#293A77;font-weight:700;padding-right:9px;text-align:right}.card-table.card-projects.dlm-current-row tr td:last-child{color:#fff}a[data-action=\"project_details\"]{color:#293A77!important}.proj-row{display:flex;margin-top:2px;margin-bottom:2px}.card-comb-wrap{margin-top:13px}body .widget-content .widget-content{padding:0!important}body .widgets-grid-box{margin-left:-5px!important;width:calc(100% + 3px)!important}.dlm-theme-dark .card-table a{color:#fff!important}.dlm-theme-dark .row-action a{color:#3F8EFA!important}.dlm-theme-dark .card-table.dlm-current-row.row-action a{color:#fff!important}.dlm-theme-dark .card-table .card-center strong{color:#fff}.dlm-theme-dark .card-table:after{background:#2A2A40}.dlm-theme-dark .card-table.card-projects tr td:last-child{color:#3F8EFA}.card-add-row i{margin-left:15px;font-size:18px;color:#3F8EFA!important}.card-add-row .fa-times{font-size:19px}body .widgets-grid-box{margin-left:0!important;width:100%!important}.card-rem-add{display:flex;justify-content:space-between;position:relative;align-items:center;padding-top:7px}.card-add-row label{font-size:15px;padding:10px 2px 10px 17px;color:#293A77;font-weight:500;font-size:18px;line-height:100%}.card-add-row label:after{position:absolute;content:\"\";width:100%;bottom:0;left:0;height:1px;background:#E8F1FF;z-index:2}.card-rem-add p{display:inline-flex}.card-add-row-border{position:relative}.dlm-row.card-add-row-border:after{position:absolute;content:\"\";width:100%;bottom:0;left:0;height:1px;background:#E8F1FF;z-index:2}@media all and (max-width:1670px){.card-table td{font-size:14px!important } .card-add-row label{font-size:16px }}@media all and (max-width:1650px){.card-center{padding-right:5px }}@media all and (max-width:1500px){.card-table td{font-size:13px!important }}@media all and (max-width:1400px){.card-doc-type{padding-left:30px } .card-doc-type:before{left:7px } .card-add-row label{font-size:14px;padding-left:9px;padding-right:0 }}@media all and (max-width:1230px){.card-add-row label{padding-left:3px }}"
    }
  ],
  "parts":[
    {
      "code":"p_main",
      "type":"form",
      "border_type":"none",
      "position":{
        "from_col":1,
        "to_col":240,
        "from_row":1,
        "to_row":240
      },
      "data_source":{
        "code":"customer",
        "fields":[
          {
            "code":"name",
            "width":"40%"
          },
          {
            "code":"phone"
          },
          {
            "code":"mobile"
          },
          {
            "code":"address_line1"
          },
          {
            "code":"address_line2"
          },
          {
            "code":"address_line3"
          }
        ],
        "order":[
          {
            "field":"name"
          }
        ],
        "operations":[
          "select"
        ],
        "row_template":"<style type=\"text/css\">\n${@e.css}\n</style>\n\n<header>\n<div class=\"dlm-row card-add-row\"><p align=\"right\">\n<a data-action=\"insert\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i></a>\n<a data-action=\"delete_customer\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i></a>\n<a data-action=\"filter\"><i class=\"fa fa-filter\" aria-hidden=\"true\"></i></a>\n</p></div>\n</header>\n\n${contents}\n\n<script>\n    let rows =ds.getRows()\n    let h=''\n    rows.forEach(row=>{\n        h+='<table width=\"100%\" class=\"dlm-row card-table\" data-row=\"'+row.id+'\">'\n        h+='<tr>'\n        h+='<td style=\"text-align:left\">'\n        h+='<div class=\"row-action\"><a data-action=\"ac_c_det\">'\n        h+=row.name\n        h+='</a></div><br/>'\n        h+='<strong>'+row.address_line1+', '+row.address_line2+', '+row.address_line3+'</strong><br/>'\n        h+='<strong>'+row[\"country:name\"]+'</strong><br/>'\n        h+='$l{Phone}l: '+row.phone+'<br/>'\n        h+='$l{Mobile}l: '+row.mobile+'<br/>'\n        h+='</td>'\n        h+='</tr>'\n        h+='</table>'\n    })\n    data.contents=h\n</script>\n"
      }
    }
  ]
}