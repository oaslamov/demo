{
  "code":"demo1_order:scr@demo1_prvt",
  "label":"Order",
  "serverStatus":"r",
  "subject":"Demo1",
  "grid":{
    "base":"screen",
    "cols":240,
    "rows":240
  },
  "data_sources":[
    {
      "code":"shipping_order",
      "table_name":"Demo1_Prvt.Shipping_Order",
      "type":"table",
      "fields":[
        {
          "code":"comment",
          "label":"$l{f:7ef01900800a}l",
          "type":"text",
          "hint":"$l{f:7ef01900800a:d}l"
        },
        {
          "code":"customer",
          "label":"$l{f:7ef019008006}l",
          "type":"ref",
          "ref":{
            "data":{
              "action":"demo1_prvt.selectList",
              "args":{
                "tablename":"Demo1_Prvt.Customer",
                "filter":[
                  "${@ref_filter}"
                ]
              },
              "fields":[
                "id",
                "@name"
              ]
            }
          },
          "hint":"$l{f:7ef019008006:d}l"
        },
        {
          "code":"date_order_paid",
          "label":"$l{f:7ef019008009}l",
          "type":"plaindate",
          "hint":"$l{f:7ef019008009:d}l"
        },
        {
          "code":"datetime_order_placed",
          "label":"$l{f:7ef019008008}l",
          "type":"datetime",
          "hint":"$l{f:7ef019008008:d}l"
        },
        {
          "code":"id",
          "type":"string"
        },
        {
          "code":"shipment_date",
          "label":"$l{f:7ef01900800b}l",
          "type":"plaindate",
          "hint":"$l{f:7ef01900800b:d}l"
        }
      ],
      "operations":{
        "new":{
          "request":{
            "data":{
              "action":"demo1_prvt.new",
              "args":{
                "tablename":"demo1_prvt.shipping_order"
              }
            }
          }
        },
        "select":{
          "request":{
            "data":{
              "action":"demo1_prvt.selectList",
              "args":{
                "filter":[
                  "${@user_filter}"
                ],
                "tablename":"demo1_prvt.shipping_order"
              }
            }
          }
        },
        "insert":{
          "request":{
            "data":{
              "action":"demo1_prvt.insert",
              "args":{
                "tablename":"demo1_prvt.shipping_order",
                "fields":"${@all_fields}"
              }
            }
          }
        },
        "update":{
          "request":{
            "data":{
              "action":"demo1_prvt.update",
              "args":{
                "tablename":"demo1_prvt.shipping_order",
                "fields":"${@all_fields}"
              }
            }
          }
        },
        "delete":{
          "request":{
            "data":{
              "action":"demo1_prvt.deleteById",
              "args":{
                "id":"${id}",
                "tablename":"demo1_prvt.shipping_order"
              }
            }
          }
        }
      }
    },
    {
      "code":"shipping_order_product",
      "table_name":"Demo1_Prvt.Shipping_Order_Product",
      "type":"table",
      "fields":[
        {
          "code":"comment",
          "label":"$l{f:7ef01900900b}l",
          "type":"string",
          "hint":"$l{f:7ef01900900b:d}l"
        },
        {
          "code":"id",
          "type":"string"
        },
        {
          "code":"product",
          "label":"$l{f:7ef019009008}l",
          "type":"ref",
          "ref":{
            "data":{
              "action":"demo1_prvt.selectList",
              "args":{
                "tablename":"Demo1_Prvt.Product",
                "filter":[
                  "${@ref_filter}"
                ]
              },
              "fields":[
                "id",
                "@name"
              ]
            }
          },
          "hint":"$l{f:7ef019009008:d}l"
        },
        {
          "code":"quantity",
          "label":"$l{f:7ef01900900a}l",
          "type":"integer",
          "hint":"$l{f:7ef01900900a:d}l"
        },
        {
          "code":"shipping_order",
          "label":"$l{f:7ef019009006}l",
          "type":"ref",
          "ref":{
            "data":{
              "action":"demo1_prvt.selectList",
              "args":{
                "tablename":"Demo1_Prvt.Shipping_Order",
                "filter":[
                  "${@ref_filter}"
                ]
              },
              "fields":[
                "id",
                "@name"
              ]
            }
          },
          "hint":"$l{f:7ef019009006:d}l"
        }
      ],
      "operations":{
        "new":{
          "request":{
            "data":{
              "action":"demo1_prvt.new",
              "args":{
                "tablename":"demo1_prvt.shipping_order_product",
                "fields":{
                  "Shipping_Order":"${shipping_order.id}"
                }
              }
            }
          }
        },
        "select":{
          "request":{
            "data":{
              "action":"demo1_prvt.selectList",
              "args":{
                "filter":[
                  "${@user_filter}",
                  "${shipping_order.id}=Shipping_Order"
                ],
                "tablename":"demo1_prvt.shipping_order_product"
              }
            },
            "dependencies":[
              "shipping_order.id"
            ]
          }
        },
        "insert":{
          "request":{
            "data":{
              "action":"demo1_prvt.insert",
              "args":{
                "tablename":"demo1_prvt.shipping_order_product",
                "fields":"${@all_fields}"
              }
            }
          }
        },
        "update":{
          "request":{
            "data":{
              "action":"demo1_prvt.update",
              "args":{
                "tablename":"demo1_prvt.shipping_order_product",
                "fields":"${@all_fields}"
              }
            }
          }
        },
        "delete":{
          "request":{
            "data":{
              "action":"demo1_prvt.deleteById",
              "args":{
                "id":"${id}",
                "tablename":"demo1_prvt.shipping_order_product"
              }
            }
          }
        }
      }
    },
    {
      "code":"customer",
      "table_name":"Demo1_Prvt.Customer",
      "type":"table",
      "fields":[
        {
          "code":"id",
          "type":"string"
        },
        {
          "code":"name",
          "label":"$l{f:7ef019006006}l",
          "type":"string",
          "hint":"$l{f:7ef019006006:d}l"
        },
        {
          "code":"address_line1",
          "label":"$l{f:7ef019006008}l",
          "type":"string",
          "hint":"$l{f:7ef019006008:d}l"
        },
        {
          "code":"address_line2",
          "label":"$l{f:7ef019006009}l",
          "type":"string",
          "hint":"$l{f:7ef019006009:d}l"
        },
        {
          "code":"address_line3",
          "label":"$l{f:7ef01900600a}l",
          "type":"string",
          "hint":"$l{f:7ef01900600a:d}l"
        },
        {
          "code":"phone",
          "label":"$l{f:7ef019006007}l",
          "type":"string",
          "hint":"$l{f:7ef019006007:d}l"
        }
      ],
      "operations":{
        "select":{
          "request":{
            "data":{
              "action":"demo1_prvt.selectList",
              "args":{
                "filter":[
                  "id=${shipping_order.customer}"
                ],
                "tablename":"demo1_prvt.customer"
              }
            },
            "dependencies":[
              "shipping_order.customer"
            ]
          }
        }
      }
    }
  ],
  "parts":[
    {
      "code":"p_list",
      "label":"Order list",
      "type":"table",
      "border_type":"none",
      "position":{
        "from_col":1,
        "to_col":80,
        "from_row":1,
        "to_row":240
      },
      "data_source":{
        "code":"shipping_order",
        "fields":[
          {
            "code":"datetime_order_placed",
            "width":"40%"
          },
          {
            "code":"customer"
          }
        ],
        "order":[
          {
            "field":"datetime_order_placed"
          }
        ],
        "operations":[
          "select",
          "insert",
          "update",
          "delete",
          "new"
        ]
      }
    },
    {
      "code":"p_item",
      "label":"Order items",
      "type":"table",
      "border_type":"none",
      "position":{
        "from_col":82,
        "to_col":239,
        "from_row":121,
        "to_row":240
      },
      "data_source":{
        "code":"shipping_order_product",
        "fields":[
          {
            "code":"product",
            "query":false,
            "width":"30%"
          },
          {
            "code":"quantity",
            "query":false
          },
          {
            "code":"comment",
            "query":false
          }
        ],
        "operations":[
          "new",
          "select",
          "insert",
          "update",
          "delete"
        ]
      }
    },
    {
      "code":"t_details",
      "label":"Odrer",
      "type":"tabs",
      "border_type":"none",
      "position":{
        "from_col":82,
        "to_col":239,
        "from_row":30,
        "to_row":120
      },
      "data_source":{
        "code":"shipping_order",
        "operations":[
          "new",
          "select",
          "insert",
          "update",
          "delete"
        ]
      },
      "sub_parts":[
        {
          "code":"c_summary",
          "label":"Order summary",
          "type":"container",
          "border_type":"none",
          "position":{
            "from_col":81,
            "to_col":240,
            "from_row":30,
            "to_row":120
          },
          "sub_parts":[
            {
              "code":"p_order_summary",
              "label":"Order summary",
              "type":"form",
              "border_type":"none",
              "position":{
                "from_col":81,
                "to_col":240,
                "from_row":30,
                "to_row":120
              },
              "data_source":{
                "code":"shipping_order",
                "fields":[
                  {
                    "code":"shipment_date",
                    "group":"dates",
                    "width":"200"
                  },
                  {
                    "code":"customer"
                  },
                  {
                    "code":"datetime_order_placed",
                    "group":"dates",
                    "width":"200"
                  },
                  {
                    "label":"Dates",
                    "code":"dates",
                    "type":"group"
                  },
                  {
                    "code":"date_order_paid",
                    "group":"dates",
                    "width":"200"
                  }
                ],
                "operations":[
                  "select",
                  "update"
                ]
              }
            }
          ]
        },
        {
          "code":"c_customer",
          "label":"Billing",
          "type":"container",
          "border_type":"none",
          "position":{
            "from_col":0,
            "to_col":0,
            "from_row":0,
            "to_row":0
          },
          "sub_parts":[
            {
              "code":"p_order_customer",
              "label":"Customer",
              "type":"form",
              "border_type":"none",
              "position":{
                "from_col":0,
                "to_col":0,
                "from_row":0,
                "to_row":0
              },
              "data_source":{
                "code":"customer",
                "fields":[
                  {
                    "code":"name"
                  },
                  {
                    "code":"phone"
                  },
                  {
                    "code":"address_line1"
                  },
                  {
                    "code":"address_line2"
                  },
                  {
                    "code":"address_line3"
                  }
                ],
                "operations":[
                  "select"
                ]
              }
            }
          ]
        },
        {
          "code":"c_comment",
          "label":"Comment",
          "type":"table",
          "border_type":"none",
          "position":{
            "from_col":81,
            "to_col":240,
            "from_row":30,
            "to_row":120
          },
          "data_source":{
          },
          "sub_parts":[
            {
              "code":"p_order_comment",
              "label":"Comment",
              "type":"text",
              "border_type":"none",
              "position":{
                "from_col":81,
                "to_col":240,
                "from_row":30,
                "to_row":240
              },
              "data_source":{
                "code":"shipping_order",
                "fields":[
                  {
                    "code":"comment"
                  }
                ],
                "operations":[
                  "new",
                  "select",
                  "insert",
                  "update",
                  "delete"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "code":"p_header",
      "label":"Order",
      "type":"form",
      "border_type":"none",
      "position":{
        "from_col":81,
        "to_col":240,
        "from_row":1,
        "to_row":29
      },
      "data_source":{
        "code":"shipping_order",
        "fields":[
          {
            "code":"id"
          },
          {
            "code":"shipment_date"
          },
          {
            "code":"customer"
          }
        ],
        "operations":[
          "select"
        ]
      }
    }
  ]
}